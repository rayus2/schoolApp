<!--
=========================================================
* Argon Dashboard - v1.2.0
=========================================================
* Product Page: https://www.creative-tim.com/product/argon-dashboard


* Copyright  Creative Tim (http://www.creative-tim.com)
* Coded by www.creative-tim.com



=========================================================
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description"
	content="Start your development with a Dashboard for Bootstrap 4.">
<meta name="author" content="Creative Tim">
<title>KH-Bootcamp B2 - School App</title>

<!-- Favicon -->
<link rel="icon" href="../assets/img/brand/logo.png" type="image/png">

<!-- Fonts -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">

<!-- Icons -->
<link rel="stylesheet" href="../assets/vendor/nucleo/css/nucleo.css">
<link rel="stylesheet"
	href="../assets/vendor/@fortawesome/fontawesome-free/css/all.min.css"
	type="text/css">

<!-- Page plugins -->
<!-- Argon CSS -->
<link rel="stylesheet" href="../assets/css/argon.css?v=1.2.0"
	type="text/css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body>
	<!-- Sidenav -->
	<nav
		class="sidenav navbar navbar-vertical  fixed-left  navbar-expand-xs navbar-light bg-white">
		<div class="scrollbar-inner">
			<!-- Brand -->
			<div class="sidenav-header  align-items-center" style="height: auto">
				<a class="navbar-brand pb-0" href="/mp2"> <img
					src="../assets/img/brand/appDesign.png" class="navbar-brand-img"
					alt="..." id="logo">
				</a>
			</div>
			<div id="sidenav-main"></div>
		</div>
	</nav>


	<!-- Main content -->
	<div class="main-content" id="panel">

		<div id="content">

			<!-- Header -->
			<div class="header bg-primary pb-6">
				<div class="container-fluid">
					<div class="header-body">
						<div class="row align-items-center py-4">
							<div class="col-lg-6 col-7">
								<nav aria-label="breadcrumb"
									class="d-none d-md-inline-block md-4">
									<ol class="breadcrumb breadcrumb-links breadcrumb-dark">
										<li class="breadcrumb-item"><a href="#"><i
												class="fas fa-home"></i></a></li>
										<li class="breadcrumb-item"><a href="#">Master</a></li>
										<li class="breadcrumb-item active" aria-current="page">Guru</li>
									</ol>
								</nav>
							</div>
							<div class="col-lg-6 col-5 text-right">
								<button type="button" class="btn btn-neutral" id="modal-tambah">Tambah
									Data</button>
							</div>
						</div>

					</div>
				</div>
			</div>

			<!-- Page content -->
			<div class="container-fluid mt--6">
				<div class="row">
					<div class="col">
						<div class="card">
							<!-- Card header -->
							<div class="card-header border-0"></div>
							<div class="table-responsive">
								<table class="table align-items-center table-flush">
									<thead class="thead-light">
										<tr>
											<th>NIM</th>
											<th>Nama</th>
											<th>Telepon</th>
											<th colspan="3">Action</th>
										</tr>
									</thead>
									<tbody class="list">
										<tr th:each="guruModel:${guruModelList}">
											<td th:text=${guruModel.nip_guru}></td>
											<td th:text=${guruModel.nama_guru}></td>
											<td th:text=${guruModel.telepon_guru}></td>

											<td class="pl-0 pr-0"><button type="button"
													class="btn btn-info" id="modal-edit"
													th:value=${guruModel.nip_guru}>Edit</button></td>
											<td class="pl-0 pr-0"><button type="button"
													class="btn btn-danger" id="modal-hapus"
													th:value=${guruModel.nip_guru}>Delete</button></td>
											<td class="pl-0 pr-0"><button type="button"
													class="btn btn-primary" id="modal-detail"
													th:value=${guruModel.nip_guru}>Detail</button></td>
										</tr>

									</tbody>
								</table>
							</div>
							<!-- Card footer -->
							<div class="card-footer">
								<nav aria-label="...">
									<ul class="pagination justify-content-end mb-0">
										<li class="page-item disabled"><a class="page-link"
											href="#" tabindex="-1"> <i class="fas fa-angle-left"></i>
												<span class="sr-only">Previous</span>
										</a></li>
										<li class="page-item active"><a class="page-link"
											href="#">1</a></li>
										<li class="page-item"><a class="page-link" href="#">2
												<span class="sr-only">(current)</span>
										</a></li>
										<li class="page-item"><a class="page-link" href="#">3</a></li>
										<li class="page-item"><a class="page-link" href="#">
												<i class="fas fa-angle-right"></i> <span class="sr-only">Next</span>
										</a></li>
									</ul>
								</nav>
							</div>
						</div>
					</div>
				</div>

				<!-- Footer -->
				<footer class="footer pt-0">
					<div class="row align-items-center justify-content-lg-between">
						<div class="col-lg-6">
							<div class="copyright text-center  text-lg-left  text-muted">
								&copy; 2021 <a href="https://www.creative-tim.com"
									class="font-weight-bold ml-1" target="_blank">Kodehive
									Bootcamp - Batch 2</a>
							</div>
						</div>
						<div class="col-lg-6">
							<ul
								class="nav nav-footer justify-content-center justify-content-lg-end">
								<li class="nav-item"><a href="https://www.creative-tim.com"
									class="nav-link" target="_blank">Randy</a></li>
								<li class="nav-item"><a
									href="https://www.creative-tim.com/presentation"
									class="nav-link" target="_blank">Satrio</a></li>
								<li class="nav-item"><a href="http://blog.creative-tim.com"
									class="nav-link" target="_blank">Yustika</a></li>
							</ul>
						</div>
					</div>
				</footer>


				<div id="modal-content-tambah"></div>

				<div id="modal-content-edit"></div>

				<div id="modal-content-hapus"></div>

				<div id="modal-content-detail"></div>

			</div>
		</div>

	</div>


	<!-- Argon Scripts -->
	<!-- Core -->
	<script src="../assets/vendor/jquery/dist/jquery.min.js"></script>
	<script
		src="../assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
	<script src="../assets/vendor/js-cookie/js.cookie.js"></script>
	<script src="../assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
	<script
		src="../assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
	<!-- Optional JS -->
	<script src="../assets/vendor/chart.js/dist/Chart.min.js"></script>
	<script src="../assets/vendor/chart.js/dist/Chart.extension.js"></script>
	<!-- Argon JS -->
	<script src="../assets/js/argon.js?v=1.2.0"></script>
	<script type="text/javascript">
		$(function() {
			$("#modal-content-tambah").load("modal_tambah")
			$("#modal-content-edit").load("modal_edit")
			$("#modal-content-hapus").load("modal_hapus")
			$("#modal-content-detail").load("modal_detail")

			$("#sidenav-main").load("sidenav");

			$("#logo").on("click", function() {
				$.ajax({
					url : 'index',
					datType : 'html',
					success : function(result) {
						location.reload(url);
					}
				})
			})

			$(".table #modal-detail").on(
					'click',
					function() {
						var nip_guru = $(this).val();
						$.ajax({
							type : 'get',
							url : 'api_getById?&nip_guru=' + nip_guru,
							success : function(guruModel) {
								$("#modal-detail-data").modal("show");
								$('#modal-detail-data #nip_guru').text(
										": " + guruModel.nip_guru);
								$('#modal-detail-data #nama_guru').text(
										": " + guruModel.nama_guru);
								$('#modal-detail-data #telepon_guru').text(
										": " + guruModel.telepon_guru);
								$('#modal-detail-data #gender_guru').text(
										": " + guruModel.gender_guru);
								$('#modal-detail-data #gelar_guru').text(
										": " + guruModel.gelar_guru);
								$('#modal-detail-data #alamat_guru').text(
										": " + guruModel.alamat_guru);
							}
						})
					})

			$("#modal-tambah").on("click", function() {
				$("#modal-tambah-data").modal("show");
			})

			$(".table #modal-hapus").on("click", function() {
				$("#modal-hapus-data").modal("show");
			})

			$(".table #modal-hapus").on("click", function() {
				var nip_guru = $(this).val();
				$("#modal-hapus-data").modal("show");
				$("#modal-hapus-data #hapus").val(nip_guru);
			})

			$(".table #modal-edit").on(
					"click",
					function(event) {
						var nip_guru = $(this).val();
						$.ajax({
							type : 'get',
							url : 'api_getById?nip_guru=' + nip_guru,
							success : function(guruModel) {
								$("#modal-edit-data").modal("show");
								$('#modal-edit-data #nip_guru').val(
										guruModel.nip_guru);
								$('#modal-edit-data #nama_guru').val(
										guruModel.nama_guru);
								$('#modal-edit-data #telepon_guru').val(
										guruModel.telepon_guru);
								$('#modal-edit-data #gender_guru').val(
										guruModel.gender_guru);
								$("input[name=gender_guru][value="+ guruModel.gender_guru + "]").prop('checked', true);
								$('#modal-edit-data #gelar_guru').val(
										guruModel.gelar_guru);
								$('#modal-edit-data #alamat_guru').val(
										guruModel.alamat_guru);
							}
						})
					})

		})
	</script>
</body>

</html>
