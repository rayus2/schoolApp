<!--
=========================================================
* Argon Dashboard - v1.2.0
=========================================================
* Product Page: https://www.creative-tim.com/product/argon-dashboard


* Copyright  Creative Tim (http://www.creative-tim.com)
* Coded by www.creative-tim.com



=========================================================
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description"
	content="Start your development with a Dashboard for Bootstrap 4.">
<meta name="author" content="Creative Tim">
<title>KH-Bootcamp B2 - School App</title>

<!-- Favicon -->
<link rel="icon" href="../assets/img/brand/logo.png" type="image/png">

<!-- Fonts -->
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">

<!-- Icons -->
<link rel="stylesheet" href="../assets/vendor/nucleo/css/nucleo.css">
<link rel="stylesheet"
	href="../assets/vendor/@fortawesome/fontawesome-free/css/all.min.css"
	type="text/css">

<!-- Page plugins -->
<!-- Argon CSS -->
<link rel="stylesheet" href="../assets/css/argon.css?v=1.2.0"
	type="text/css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
	<!-- Sidenav -->
	<nav
		class="sidenav navbar navbar-vertical  fixed-left  navbar-expand-xs navbar-light bg-white">
		<div class="scrollbar-inner">
			<!-- Brand -->
			<div class="sidenav-header  align-items-center" style="height: auto">
				<a class="navbar-brand pb-0" href="/mp2"> <img
					src="../assets/img/brand/appDesign.png" class="navbar-brand-img"
					alt="..." id="logo">
				</a>
			</div>
			<div id="sidenav-main"></div>
		</div>
	</nav>


	<!-- Main content -->
	<div class="main-content" id="panel">

		<div id="content">

			<!-- Header -->
			<div class="header bg-primary pb-6">
				<div class="container-fluid">
					<div class="header-body">
						<div class="row align-items-center py-4">
							<div class="col-lg-6 col-7">
								<nav aria-label="breadcrumb"
									class="d-none d-md-inline-block md-4">
									<ol class="breadcrumb breadcrumb-links breadcrumb-dark">
										<li class="breadcrumb-item"><a href="#"><i
												class="fas fa-home"></i></a></li>
										<li class="breadcrumb-item"><a href="#">Transaksi</a></li>
										<li class="breadcrumb-item active" aria-current="page">Nilai</li>
									</ol>
								</nav>
							</div>

						</div>

					</div>
				</div>
			</div>

			<!-- Page content -->
			<div class="container-fluid mt--6">
				<div class="row justify-content-center">
					<div class="col">
						<div class="card">
							<div class="card-header bg-transparent">
								<h3 class="mb-0">Nilai Siswa</h3>
							</div>
							<div class="card-body">
								<form th:action="@{save_nilai}" method="post">
									<!-- th:action -->
									<div class="row justify-content">
										<div class="col-md-3">
											<div class="form-group">
												<label for="example-text-input"
													class="form-control-label pl-1">Kode Nilai</label> <input
													class="form-control" type="text" placeholder="N001"
													name="kode_nilai">
											</div>
										</div>
									</div>
									<div class="row justify-content">
										<div class="col-md-3">
											<div class="form-group">
												<label for="example-text-input"
													class="form-control-label pl-1">Tanggal Ujian</label> <input
													class="form-control" type="date"
													placeholder="Pilih Tanggal" name="tgl_ujian">
											</div>
										</div>
									</div>
									<div class="row justify-content">
										<div class="col-md-3">
											<div class="form-group">
												<label for="example-text-input"
													class="form-control-label pl-1">Tanggal Penilaian</label> <input
													class="form-control" type="date"
													placeholder="Pilih Tanggal" name="tgl_penilaian">
											</div>
										</div>
									</div>

									<div class="row justify-content">
										<div class="col-md-3">
											<div class="form-group">
												<label for="example-text-input"
													class="form-control-label pl-1">Pelajaran</label> <select
													class="form-control" name="pelajaranModel">
													<!-- pelajaran -->
													<option disabled="disabled" selected="selected">
														-- Pilih Pelajaran --</option>
													<option th:each="item:${pelajaranList}"
														th:value="${item.nama_pelajaran}"
														th:text="${item.nama_pelajaran}"></option>
												</select>
											</div>
										</div>
									</div>
									<div class="row justify-content">
										<div class="col-md-3">
											<div class="form-group">
												<label for="example-text-input"
													class="form-control-label pl-1">Tipe Ujian</label> <select
													class="form-control" name="tipe_ujian">
													<!-- pelajaran -->
													<option disabled="disabled" selected="selected">-- Pilih Tipe --</option>
													<option value="Ulangan">Ulangan</option>
													<option value="UTS">UTS</option>
													<option value="Uas">UAS</option>
												</select>
											</div>
										</div>
									</div>



									<div class="row">
										<div class="col-md-12 text-right">
											<button type="button" class="btn btn-sm btn-info"
												id="pilih-siswa">Pilih Siswa</button>
										</div>
									</div>

									<div class="table-responsive pt-2 pb-4">
										<table class="table align-items-center table-flush">
											<thead class="thead-light">
												<tr>
													<th>NIM</th>
													<th>Nama Siswa</th>
													<th>Kelas</th>
													<th>Nilai</th>
													<th>Action</th>
												</tr>
											</thead>
											<tbody class="list" id="list_nilaisiswa">

											</tbody>
										</table>
									</div>

									<div class="row justify-content">
										<div class="col-md-3">
											<div class="form-group">
												<label for="example-text-input"
													class="form-control-label pl-1">Keterangan</label>
												<div class="input-group">
													<div class="input-group-prepend"></div>
													<input type="text" class="form-control"
														name="keterangan_ujian" id="keterangan_ujian">
												</div>
											</div>
										</div>

									</div>
									<div class="col-md-13 text-right">
								

										<button type="submit" class="btn btn-success" id="submit">Submit</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>

				<!-- Footer -->
				<footer class="footer pt-0">
					<div class="row align-items-center justify-content-lg-between">
						<div class="col-lg-6">
							<div class="copyright text-center  text-lg-left  text-muted">
								&copy; 2021 <a href="https://www.creative-tim.com"
									class="font-weight-bold ml-1" target="_blank">Kodehive
									Bootcamp - Batch 2</a>
							</div>
						</div>
						<div class="col-lg-6">
							<ul
								class="nav nav-footer justify-content-center justify-content-lg-end">
								<li class="nav-item"><a href="https://www.creative-tim.com"
									class="nav-link" target="_blank">Randy</a></li>
								<li class="nav-item"><a
									href="https://www.creative-tim.com/presentation"
									class="nav-link" target="_blank">Satrio</a></li>
								<li class="nav-item"><a href="http://blog.creative-tim.com"
									class="nav-link" target="_blank">Yustika</a></li>
							</ul>
						</div>
					</div>
				</footer>
			</div>

			<div id="modalpilihsiswa">
				<div class="col-md-4">
					<div class="modal fade" id="modal-pilihsiswa" tabindex="-1"
						role="dialog" aria-labelledby="modal-notification"
						aria-hidden="true">
						<div class="modal-dialog modal- modal-dialog-centered modal-md"
							role="document">
							<div class="modal-content bg-gradient-secondary">

								<div class="modal-header">
									<h3 class="modal-title" id="modal-title-notification">Pilih
										Siswa</h3>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>

								<div class="modal-body">
									<div class="table-responsive pt-2 pb-4">

										<table class="table align-items-center table-flush">
											<thead class="thead-light">
												<tr>
													<th>NIM</th>
													<th>Nama Siswa</th>
													<th>Kelas</th>
													<th>Action</th>
												</tr>
											</thead>
											<tbody class="list">
												<tr th:each="nilai_pilihSiswa:${sppList}">
													<td th:text="${nilai_pilihSiswa.nim_siswa}"></td>
													<td th:text="${nilai_pilihSiswa.nama_siswa}"></td>
													<td th:text="${nilai_pilihSiswa.kelas_siswa}"></td>
													<td><button type="button" class="btn btn-info"
															id="nilai_pilih" th:value=${nilai_pilihSiswa.nim_siswa}>PILIH</button></td>
												</tr>
											</tbody>
										</table>

									</div>
								</div>
								<div class="modal-footer"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<!-- Argon Scripts -->
		<!-- Core -->
		<script src="../assets/vendor/jquery/dist/jquery.min.js"></script>
		<script
			src="../assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
		<script src="../assets/vendor/js-cookie/js.cookie.js"></script>
		<script
			src="../assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
		<script
			src="../assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
		<!-- Optional JS -->
		<script src="../assets/vendor/chart.js/dist/Chart.min.js"></script>
		<script src="../assets/vendor/chart.js/dist/Chart.extension.js"></script>
		<script
			src="../assets/vendor/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
		<!-- Argon JS -->
		<script src="../assets/js/argon.js?v=1.2.0"></script>

		<script type="text/javascript">
			
			$(function() {
				$("#sidenav-main").load("sidenav");

				$("#logo").on("click", function() {
					$.ajax({
						url : 'index',
						datType : 'html',
						success : function(result) {
							location.reload(url);
						}
					})
				});

				$("#pilih-siswa").on("click", function() {
					$("#modalpilihsiswa #modal-pilihsiswa").modal("show");
				})

				$(".table #nilai_pilih")
						.on(
								"click",
								function() {
									var nim_siswa = $(this).val();
									$
											.ajax({
												type : 'get',
												url : '/mp2/siswa/api_getById?nim_siswa='
														+ nim_siswa,
												success : function(result) {
													var markup = "<tr>"
															+ "<td>"
															+ result.nim_siswa
															+ "</td>"
															+ "<td>"
															+ result.nama_siswa
															+ "</td>"
															+ "<td>"
															+ result.kelas_siswa
															+ "</td>"
															+ "<td><input></td>"
															+ "<td><button type='button' class='btn btn-danger' id='batal'>BATAL</button></td>"
															+ "</tr>";
													$("#list_nilaisiswa").append(
															markup);
													$(
															"#modalpilihsiswa #modal-pilihsiswa")
															.modal("hide");

												}
											})
								})

				$(".table #list_nilaisiswa").on("click", "#batal", function() {
					$(this).parents("tr").remove();
				});

				$("#submit").on("click", function() {
					$.ajax({

					})
				});

			})
		</script>
</body>

</html>
